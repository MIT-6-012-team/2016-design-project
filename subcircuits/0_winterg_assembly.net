* /Users/winterg/Dropbox (MIT)/MIT/a_Classes/6.012/psets/dp/subcircuits/0_winterg_assembly.asc
XX1 S0 S1 S2 S3 S4 S5 S6 S7 VDD N001 N002 3_dac_winterg
XX2 N001 VDD NC_01 Freq_out NC_02 NC_03 NC_04 2_oscillator_winterg
V0 S0 0 PULSE(0 3 0 1ns 1ns 100us 0.0 1)
V1 S1 0 PULSE(0 3 100us 1ns 1ns 100us 0 1)
V2 S2 0 PULSE(0 3 200us 1ns 1ns 100us 0 1)
V3 S3 0 PULSE(0 3 300us 1ns 1ns 100us 0 1)
V4 S4 0 PULSE(0 3 400us 1ns 1ns 100us 0 1)
V5 S5 0 0
V6 S6 0 0
V7 S7 0 0
V8 VDD 0 3v Rser=0

* block symbol definitions
.subckt 3_dac_winterg S0 S1 S2 S3 S4 S5 S6 S7 VDD Vout Vg
Iref VDD N010 10µ
XM8 N010 N010 0 N011 NFET lg=1.5u,wg=10u
XM0 N002 N010 0 0 NFET lg=1.5u,wg=6u
XM1 N003 N010 0 0 NFET lg=1.5u,wg=6u
XM2 N004 N010 0 0 NFET lg=1.5u,wg=6u
XM3 N005 N010 0 0 NFET lg=1.5u,wg=6u
XM4 N006 N010 0 0 NFET lg=1.5u,wg=6u
XM5 N007 N010 0 0 NFET lg=1.5u,wg=6u
XM6 N008 N010 0 0 NFET lg=1.5u,wg=6u
XM7 N009 N010 0 0 NFET lg=1.5u,wg=6u
XM9 Vg S0 N002 0 NFET lg=1.5u,wg=10u
XM10 Vg S1 N003 0 NFET lg=1.5u,wg=20u
XM11 Vg S2 N004 0 NFET lg=1.5u,wg=30u
XM12 Vg S3 N005 0 NFET lg=1.5u,wg=40u
XM13 Vg S4 N006 0 NFET lg=1.5u,wg=40u
XM14 Vg S5 N007 0 NFET lg=1.5u,wg=60u
XM15 Vg S6 N008 0 NFET lg=1.5u,wg=70u
XM16 Vg S7 N009 0 NFET lg=1.5u,wg=80u
XM17 Vout Vout N001 N001 PFET lg=1.5u,wg=6u
XM18 N001 0 VDD VDD PFET lg=1.5u,wg=10u
I1 Vout 0 10µ
.inc mosfets.sub
.ends 3_dac_winterg

.subckt 2_oscillator_winterg V_current VDD Vin_1 Vout Vout_1 Vout_2 Vout_3
XM1 N002 V_current N004 N004 PFET lg=1.5u,wg=6u
XM2 N002 Vout 0 0 NFET lg=1.5u,wg=10u
XM3 N004 Vout VDD N001 PFET lg=1.5u,wg=10u
XM4 N003 V_current N005 N005 PFET lg=1.5u,wg=6u
XM5 N003 N002 0 0 NFET lg=1.5u,wg=10u
XM6 N005 N002 VDD VDD PFET lg=1.5u,wg=10u
XM7 N007 V_current N006 N006 PFET lg=1.5u,wg=6u
XM8 N007 N003 0 0 NFET lg=1.5u,wg=10u
XM9 N006 N003 VDD VDD PFET lg=1.5u,wg=10u
XM10 N008 V_current N009 N009 PFET lg=1.5u,wg=6u
XM11 N008 N007 0 0 NFET lg=1.5u,wg=10u
XM12 N009 N007 VDD VDD PFET lg=1.5u,wg=10u
XM13 N011 V_current N010 N010 PFET lg=1.5u,wg=6u
XM14 N011 N008 0 0 NFET lg=1.5u,wg=10u
XM15 N010 N008 VDD VDD PFET lg=1.5u,wg=10u
XM16 N012 V_current N013 N013 PFET lg=1.5u,wg=6u
XM17 N012 N011 0 0 NFET lg=1.5u,wg=10u
XM18 N013 N011 VDD VDD PFET lg=1.5u,wg=10u
XM19 N015 V_current N014 N014 PFET lg=1.5u,wg=6u
XM20 N015 N012 0 0 NFET lg=1.5u,wg=10u
XM21 N014 N012 VDD VDD PFET lg=1.5u,wg=10u
XM22 N016 V_current N017 N017 PFET lg=1.5u,wg=6u
XM23 N016 N015 0 0 NFET lg=1.5u,wg=10u
XM24 N017 N015 VDD VDD PFET lg=1.5u,wg=10u
XM25 Vout V_current N018 N018 PFET lg=1.5u,wg=6u
XM26 Vout N016 0 0 NFET lg=1.5u,wg=10u
XM27 N018 N016 VDD VDD PFET lg=1.5u,wg=10u
.inc mosfets.sub
.ends 2_oscillator_winterg

.inc mosfets.sub
.ic V(Freq_out)=2.5
.tran 0 6us 5us
* Test Voltages
* Test Script
* Small test\ncurrent resistor
.backanno
.end
